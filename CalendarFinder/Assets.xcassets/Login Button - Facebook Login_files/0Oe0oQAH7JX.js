if (self.CavalryLogger) { CavalryLogger.start_js(["BzE4U"]); }

__d("SignalsUploaderColumnMapperConstants",["keyMirrorRecursive"],function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({CUSTOM_COLUMN_TYPE_VALUE:"",DEFAULT_COLUMN_TYPE_VALUE:"",ITEM_STATUSES:{MAPPED_RIGHT:"",MAPPED_WITH_ERROR:"",NON_MAPPED:"",PENDING:"",PRE_MAPPED:""},SKIP_ADDITIONAL_INFO_VALUE:"",UNDEFINED_ADDITIONAL_INFO_VALUE:""});e.exports=a},null);
__d("getSignalsNormalizationErrorSummary",["immutable"],function(a,b,c,d,e,f){"use strict";var g=b("immutable").List;function h(a,b,c){b.errors.forEach(function(d){if(d.where==="prop"){if(b.type==="prop"){var e=d.propError&&d.propError.badValues||[];e.forEach(function(b){var d=b.rawPosition!=null?Array.isArray(b.rawPosition)?b.rawPosition:[b.rawPosition]:[];a.invalidColumns=a.invalidColumns.withMutations(function(a){d.forEach(function(b){var d=a.get(b);if(d==null)a.set(b,{count:1,propPath:c});else{var e=d.propPath;d=d.count;a.set(b,{count:d+1,propPath:e})}})})})}}else if(d.where==="rule"){e=d.ruleError&&d.ruleError.ruleSpecs.name;if(e!=null){e=c.length===0?e:c+"."+e;var f=a.namedRuleErrors.get(e);f!=null?f=f.push(d):f=g([d]);a.namedRuleErrors=a.namedRuleErrors.set(e,f)}else a.otherErrors=a.otherErrors.push(d)}else a.otherErrors=a.otherErrors.push(d)});if(b.type==="compound")for(var d in b.nodes){var e=b.nodes[d],f=c.length===0?d:c+"."+d;h(a,e,f)}}function a(a){var c={fatalErrors:g(),invalidColumns:b("immutable").Map(),namedRuleErrors:b("immutable").Map(),otherErrors:g()};a.forEach(function(a){a.tree!=null&&h(c,a.tree,""),a.fatalError!=null&&(c.fatalErrors=c.fatalErrors.push(a.fatalError))});return c}e.exports=a},null);
__d("SignalsStringStripModes",[],function(a,b,c,d,e,f){e.exports=Object.freeze({WHITESPACE_ONLY:"whitespace_only",WHITESPACE_AND_PUNCTUATION:"whitespace_and_punctuation",ALL_NON_LATIN_ALPHA_NUMERIC:"all_non_latin_alpha_numeric"})},null);
__d("SignalsValidationUtils",["SignalsStringStripModes"],function(a,b,c,d,e,f){"use strict";var g=/^[a-f0-9]{64}$/i,h=/^\s+|\s+$/g,i=/\s+/g,j=/[!\"#\$%&\'\(\)\*\+,\-\.\/:;<=>\?@ \[\\\]\^_`\{\|\}~\s]+/g,k=/\W+/g;function c(a){return typeof a==="string"?a.replace(h,""):""}function d(a,c){c===void 0&&(c=b("SignalsStringStripModes").WHITESPACE_ONLY);var d="";if(typeof a==="string")switch(c){case b("SignalsStringStripModes").WHITESPACE_ONLY:d=a.replace(i,"");break;case b("SignalsStringStripModes").WHITESPACE_AND_PUNCTUATION:d=a.replace(j,"");break;case b("SignalsStringStripModes").ALL_NON_LATIN_ALPHA_NUMERIC:d=a.replace(k,"");break}return d}function l(a,b){return typeof a==="object"&&Object.prototype.hasOwnProperty.call(a,b)}function f(a,b,c){b=b.split(".");c===void 0&&(c=null);for(var d=0;d<b.length-1;d++){var e=b.shift();a=a[e]||(a[e]={})}e=b[0];if(!l(a,e))a[e]=c;else{d=a[e];Array.isArray(d)?d.push(c):a[e]=[d,c]}return a}function m(a){return typeof a==="string"&&g.test(a)}function n(b){return a.File&&b instanceof File||b instanceof Object}function o(a,b){b===void 0&&(b=null);throw new Error("Fatal: "+a+", detail="+JSON.stringify(b))}e.exports={STRIP_MODES:b("SignalsStringStripModes"),addValueAtPath:f,hasProp:l,isFile:n,looksLikeHashed:m,strip:d,throwFatalError:o,trim:c}},null);
__d("getSignalsSchemaSummary",["SignalsValidationUtils","isTruthy"],function(a,b,c,d,e,f){"use strict";var g=b("SignalsValidationUtils").hasProp,h="pii_keys",i="content_data";function j(a,c){c===void 0&&(c="");var d=a.additionalInfoURL,e=a.exampleFiles,f=a.id,k=[],l=[],m=[],n={},o={},p={},q={},r={},s={},t={},u=[],v=[],w={};c=b("isTruthy")(c)?c+".":"";var x=a.type;x!=null&&a.id!=null&&(w[x]=w[x]||[],w[x].push(a.id));if(a.props!=null&&Array.isArray(a.props))for(var x=0;x<a.props.length;x++){var y=a.props[x],z=y.key;if(typeof y==="object"&&z!=null){var A=y.type,B=c+z;A&&A.canHaveExtraProps&&m.push(B);typeof A==="object"?(function(){var a=j(A,z);k.push.apply(k,a.allSimplePropKeysInSchema);l.push.apply(l,a.noUISimplePropKeysInSchema);m.push.apply(m,a.extraPropsCollectors);n=babelHelpers["extends"]({},n,a.schemasForSimplePropsInSchema);o=babelHelpers["extends"]({},o,a.typesForSimplePropKeys);p=babelHelpers["extends"]({},p,a.typesForSimplePropPaths);q=babelHelpers["extends"]({},q,a.keysForSimplePropPaths);r=babelHelpers["extends"]({},r,a.pathForSimplePropKeys);t=babelHelpers["extends"]({},t,a.keysForSubschemasWithID);for(var b in a.keysForSimplePropsTypesInSchema)if(g(a.keysForSimplePropsTypesInSchema,b)){var c;s[b]=s[b]||[];(c=s[b]).push.apply(c,a.keysForSimplePropsTypesInSchema[b])}u.push.apply(u,a.piiKeys);v.push.apply(v,a.contentKeys);c=Object.keys(a.subschemasByType);c.forEach(function(b){var c;w[b]=w[b]||[];(c=w[b]).push.apply(c,a.subschemasByType[b])})})():(k.push(z),y.noUI&&l.push(z),n[z]=y,o[z]=A,p[B]=A,q[B]=z,r[z]=B,A!=null&&(s[A]=s[A]||[],s[A].push(z)),f!=null&&(t[f]=t[f]||[],t[f].push(z)),a.type===h?u.push(z):a.type===i&&v.push(z))}}return{additionalInfoURL:d,allSimplePropKeysInSchema:k,contentKeys:v,exampleFiles:e,extraPropsCollectors:m,id:f,keysForSimplePropPaths:q,keysForSimplePropsTypesInSchema:s,keysForSubschemasWithID:t,noUISimplePropKeysInSchema:l,pathForSimplePropKeys:r,piiKeys:u,schemasForSimplePropsInSchema:n,subschemasByType:w,typesForSimplePropKeys:o,typesForSimplePropPaths:p,validIf:a.validIf}}function a(a){return j(a)}e.exports=a},null);
__d("SignalsUploaderUtils",["SignalsUploaderColumnMapperConstants","getSignalsNormalizationErrorSummary","getSignalsSchemaSummary","immutable"],function(a,b,c,d,e,f){"use strict";var g,h=.95,i={chunkSize:128*1024},j=b("immutable").Map,k=b("immutable").List,l=(g=b("SignalsUploaderColumnMapperConstants")).CUSTOM_COLUMN_TYPE_VALUE,m=g.ITEM_STATUSES,n=g.SKIP_ADDITIONAL_INFO_VALUE,o=g.UNDEFINED_ADDITIONAL_INFO_VALUE;function a(a){var b={};for(var c=0;c<a.length;c++)b[c]=a[c];return b}function c(a,c){c=b("getSignalsSchemaSummary")(c);var d=c.pathForSimplePropKeys,e=c.extraPropsCollectors[0],f={};a.forEach(function(a,b){var c;typeof a==="string"&&(d[a]?c=d[a]:e!=null&&(c=e+"."+a));c&&(f[b]=c)});return f}function d(a){if(typeof a==="number")return 8;if(typeof a==="boolean")return 4;if(typeof a==="string"){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=1:d<2048?b+=2:d<65536?b+=3:d<2097152?b+=4:d<67108864?b+=5:b+=6}return b}return 1}function f(a){var b={mappings:[],values:[]};if(a!=null){b.mappings=Object.keys(a);for(var c=0;c<b.mappings.length;c++)b.values.push(a[b.mappings[c]])}return b}function p(a,b,c){var d=JSON.parse(JSON.stringify(a));c.forEach(function(a,c){d[c+b]=a});return d}function q(a){var b=a.mapping,c=a.columnStatuses,d=a.customTypes,e=a.infoForNormalization,f=a.schemaSummary;a=b.map(function(a,b){var g=e.get(String(b)),h;if(c==null||c.get(b)!==m.MAPPED_WITH_ERROR){if(a===l){b=d.get(String(b));h=b&&b.key?b.key:void 0}else g!==n&&g!==o&&(h=f.keysForSimplePropPaths[a]);return h}});var g=e.reduce(function(a,c,d){d=f.keysForSimplePropPaths[b.get(Number(d))];return d&&c!==n&&c!==o?a.set(d,c):a},j()),h=j(d.reduce(function(a,b){a[b.key]=b;return a},{}));return{customTypeInfos:h,infoForNormalization:g,mapping:a}}function r(a){var c=a.customTypeDefintion,d=a.infoForNormalization,e=a.mapping,f=a.normalizationResults,g=a.numColumns,i=a.preMappedColumnMapping,j=a.errorThreshold!=null?a.errorThreshold:h,p=a.requireOnlyOneRightValueMappedTypes!=null?a.requireOnlyOneRightValueMappedTypes:[];a=e;while(a.size<g)a=a.push(void 0);var q=f.size,r=b("getSignalsNormalizationErrorSummary")(f.toArray());q>0?e=a.map(function(a,b){if(i!=null&&i.includes(b))return m.PRE_MAPPED;if(a===l){var e=c.get(String(b));if(e==null||e.key==null||e.key==="")return m.NON_MAPPED}e=d.get(String(b));if(a==null||e===o||e===n)return m.NON_MAPPED;e=(r.invalidColumns.get(String(b))||{count:0}).count;b=Math.max(1,Math.round(j*q));return e<b||p.indexOf(a)>-1&&e<q?m.MAPPED_RIGHT:m.MAPPED_WITH_ERROR}):e=k();var s=0,t=0,u=0;e.forEach(function(a){s+=a===m.MAPPED_RIGHT,t+=a===m.MAPPED_WITH_ERROR,u+=a===m.NON_MAPPED});return{columnStatuses:e,errorSummary:r,mappedRightColumns:s,mappedWithErrorColumns:t,mapping:a,nonMappedColumns:u,sampleNormalizationResults:f}}function s(a){if(a){if(typeof a==="string")return a;return a.error_user_msg?a.error_user_msg:a.message}return null}e.exports={COLUMN_MAPPING_ERROR_THRESHOLD:h,arrayToObject:a,getArgumentsForNormalizationFromColumnMapping:q,getByteLength:d,getColumnStatuses:r,getHumanFriendlyAPIErrorMessage:s,getMappingWithPreset:p,getPresetValueConfigFromObject:f,getPropKeysForTypes:c,uploadForNumberOfLinesEstimationConfig:i}},null);
__d("XSignalsUploaderLoggerController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/signals/uploader-basic-logging/",{key:{type:"Enum",required:!0,enumType:1}})},null);
__d("SignalsUILogger",["AdsInterfacesLogEvents","AdsInterfacesLogger","AsyncRequest","FBLogger","SignalsUploaderUtils","XSignalsUploaderLoggerController"],function(a,b,c,d,e,f){"use strict";var g=b("SignalsUploaderUtils").getHumanFriendlyAPIErrorMessage,h=b("AdsInterfacesLogEvents").EventCategory,i={};a=function(){function a(a,b,c){this.$1=a,this.$3=b||Date.now(),this.$2=c,this.$5=0,this.$4={}}var c=a.prototype;c.$6=function(a){this.$5++,this.$4[a]=this.$4[a]||0,this.$4[a]++};c.log=function(a,c,d){c=c||{};this.$6(a);var e=this.$2;d=Object.assign({},d,e!=null?{containerContext:e}:null);d.eventIndex=this.$5;d.eventCounts=this.$4;d.details=c;b("AdsInterfacesLogger").log({eventName:a,eventCategory:h.USER_ACTION,data:(e={},e.event_source=this.$1,e.actual_event_time=Date.now(),e.signals_ui_event_data=JSON.stringify(d),e.signals_ui_logger_session_id=this.$3,e.at_section=c.atSection,e.to_section=c.toSection,e.error_type=c.errorType,e.error_code=c.errorCode,e.message=c.errorMessage,e)},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};c.logEvent=function(a,b){this.log(a,null,b)};c.logError=function(a,b,c,d){b={errorCode:b.code,errorFBTraceID:b.fbtrace_id,errorMessage:g(b),errorStackTrace:b.stack,errorSubCode:b.error_subcode,errorType:b.type};b=Object.assign({},b,d);this.log(a,b,c)};c.getContainerContext=function(){return this.$2};c.setContainerContext=function(a){this.$2=a};c.getLoggerSessionID=function(){return this.$3};a.logToCounter=function(a){new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(b("XSignalsUploaderLoggerController").getURIBuilder().setEnum("key",a).getURI()).setErrorHandler(function(a){b("FBLogger")("ads").catching(a.toError()).mustfix("Failed to log to counter")}).send()};a.getAppLogger=function(b){i[b]==null&&(i[b]=new a(b));return i[b]};a.getDefaultLogger=function(){return a.getAppLogger("_default_")};return a}();e.exports=a},null);
__d("SignalsHomeLogger",["SignalsUILogger"],function(a,b,c,d,e,f){"use strict";a=new(b("SignalsUILogger"))("signals-home",Date.now());e.exports=a},null);
__d("SignalsHomeLoggedDispatcher",["AdsDataAtom","SignalsHomeLogger"],function(a,b,c,d,e,f){"use strict";a={handleUpdateFromViewAction:function(a,c){c=babelHelpers["extends"]({},c||a);delete c.type;var d=c.error;delete c.error;d!=null?b("SignalsHomeLogger").logError(a.type,d,c):b("SignalsHomeLogger").logEvent(a.type,c);b("AdsDataAtom").handleUpdateFromViewAction(a)},handleUpdateFromServerResponse:function(a,c){c=babelHelpers["extends"]({},c||a);if(c.results!=null||c.errors!=null)c.errors!=null?c.errors.forEach(function(c){b("SignalsHomeLogger").logError(a.type,c.error,{key:c.key})}):c.results.forEach(function(c){b("SignalsHomeLogger").logEvent(a.type,{key:c.key,result:c.result})});else{delete c.type;var d=c.error;delete c.error;d!=null?b("SignalsHomeLogger").logError(a.type,d,c):b("SignalsHomeLogger").logEvent(a.type,c)}b("AdsDataAtom").handleUpdateFromServerResponse(a)}};e.exports=a},null);
__d("SignalsUIStateStore",["AdsDataAtom","FluxReduceStore","SignalsHomeLoggedDispatcher","abstractMethod"],function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;c===void 0&&(c=!0);d=a.call(this,b("AdsDataAtom"))||this;d.$SignalsUIStateStore1=c;return d}var d=c.prototype;d.reduce=function(a,b){var c=b.action;switch(c.type){case this.__getName()+"-update":return Object.assign({},a,c.partialUpdate);default:return this.__customReduce(a,b)}};d.updateStateLater=function(a){var c=this,d=this.$SignalsUIStateStore1?b("SignalsHomeLoggedDispatcher"):b("AdsDataAtom");setTimeout(function(){return d.handleUpdateFromViewAction({type:c.__getName()+"-update",partialUpdate:a})},0)};d.__getName=function(){return b("abstractMethod")("SignalsLoadObjectStore","__getName")};d.__customReduce=function(a,b){return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=a},null);
__d("AppReviewBizVerifyUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:AppReviewBizVerifyUILoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:AppReviewBizVerifyUILoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:AppReviewBizVerifyUILoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setBusinessID=function(a){this.$1.business_id=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setMessage=function(a){this.$1.message=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};return a}();c={app_id:!0,business_id:!0,event_name:!0,message:!0,session_id:!0};e.exports=a},null);
__d("AppReviewBusinessVerificationUtils",["AppReviewBizVerifyUITypedLogger","BusinessVerificationSessionID"],function(a,b,c,d,e,f){"use strict";a={logAppReviewEvent:function(a,c,d,e){e===void 0&&(e=null),new(b("AppReviewBizVerifyUITypedLogger"))().setSessionID(b("BusinessVerificationSessionID")).setEventName(d).setMessage(e).setAppID(a).setBusinessID(c).log()}};e.exports=a},null);
__d("AppAndroidCredentialsUploaderUIStateStore",["SignalsUIStateStore"],function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{fileName:null,isSwitchOn:!1,isDeleting:!1,showDeleteDialog:!1,isVisiable:!1,stateInitByProps:!1,isDialogShow:!1,fileHandler:null,isUploading:!1,isSubmiting:!1,isNoticeShow:!1,progress:null,errorType:null,tmpFileName:null}};c.__getName=function(){return e.id};return b}(b("SignalsUIStateStore"));e.exports=new a()},null);
__d("DevappImageSelector",["Event"],function(a,b,c,d,e,f){"use strict";a=function(){function a(c,d,e){b("Event").listen(c,"click",function(){var b=a.getPreviewDialog();b&&b.show(d,e)})}a.setPreviewDialog=function(b){a.$1=b};a.getPreviewDialog=function(){return a.$1};return a}();e.exports=a},null);
__d("DeveloperAsyncDialog",["csx","AsyncRequest","CSS","DOM"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.dialog=a,this.statusElement=b("DOM").find(a.getRoot(),"._2uf"),this.contentElement=b("DOM").find(a.getRoot(),"._2ug")}var c=a.prototype;c.show=function(a,c){this.showStatus(),this.dialog.show(),new(b("AsyncRequest"))(a).setMethod("POST").setData(c).setHandler(this.$1.bind(this)).send()};c.$1=function(a){b("DOM").setContent(this.contentElement,a.getPayload()),this.hideStatus()};c.hideStatus=function(){b("CSS").show(this.contentElement),b("CSS").hide(this.statusElement)};c.showStatus=function(){b("CSS").hide(this.contentElement),b("CSS").show(this.statusElement)};return a}();e.exports=a},null);
__d("DeveloperGooglePlayCredentialsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:DeveloperGooglePlayCredentialsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:DeveloperGooglePlayCredentialsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:DeveloperGooglePlayCredentialsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setErrorTrace=function(a){this.$1.error_trace=a;return this};c.setEvent=function(a){this.$1.event=a;return this};return a}();c={app_id:!0,error_message:!0,error_trace:!0,event:!0};e.exports=a},null);
__d("LayerHideOnSuccess",[],function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._layer=a}var b=a.prototype;b.enable=function(){this._subscription=this._layer.subscribe("success",this._layer.hide.bind(this._layer))};b.disable=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a},null);