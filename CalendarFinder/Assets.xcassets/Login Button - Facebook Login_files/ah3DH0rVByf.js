if (self.CavalryLogger) { CavalryLogger.start_js(["5PBnS"]); }

__d("EmployeePrefs",["Dock","DOM","Event","Keys","MenuDeprecated","NubController","Parent","URI","goURI","setTimeout"],function(a,b,c,d,e,f){var g;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.init=function(c,d){a.prototype.init.call(this,c),this.menu=d,b("Dock").registerNubController(c,this),b("Event").listen(c,"keydown",function(a){var e=b("Event").getKeyCode(a)||a.which;switch(e){case b("Keys").UP:case b("Keys").DOWN:a=b("Parent").byClass(a.getTarget(),"fbNubButton");if(a){this.show();a=b("MenuDeprecated").getItems(d);b("MenuDeprecated").focusItem(a[e===b("Keys").UP?a.length-1:0]);return!1}break;case b("Keys").ESC:this.hide();b("setTimeout")(function(){b("DOM").find(c,"a.fbNubButton").focus()},0);break}}.bind(this)),this.subscribe("show",this.onShow.bind(this)),this.subscribe("hide",this.onHide.bind(this)),this.buttonContentChanged()};d.onShow=function(){b("MenuDeprecated").register(this.menu)};d.onHide=function(){b("MenuDeprecated").unregister(this.menu)};d.getSamePageURLOnNewTier=function(a,c){c="www"+(c?"."+c:"")+".facebook.com";return new(g||(g=b("URI")))(window.location.href).setProtocol(a.getProtocol()).setDomain(c).setSubdomain(a.getSubdomain()).setPath(a.getPath()).setQueryData(a.getQueryData()).setFragment(a.getFragment())};d.goToTier=function(a){b("goURI")(this.getSamePageURLOnNewTier((g||(g=b("URI"))).getRequestURI(),a));return!1};return c}(b("NubController"));e.exports=a},null);
__d("EmployeePrefsNub",["EmployeePrefs","Event","URI"],function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=a.nubRoot,d=a.menu,e=a.viewTheSiteIn,f=a.odUri,h=new(b("EmployeePrefs"))();h.init(c,d);Array.from(e.el.querySelectorAll("[data-tierid]")).forEach(function(a){var c=a.dataset.tierid,d=e.data.get(c);d&&b("Event").listen(a,"click",function(a){if(d.target_tier==="od")new(g||(g=b("URI")))(f).addQueryData("uri",window.location.href).go();else return h.goToTier(d.target_tier)})})}c={init:a};e.exports=c},null);
__d("PerfNub.react",["cx","Arbiter","CSS","Event","EventHandlerUtils","JSResource","Link.react","List.react","React","URI","isEmpty","lazyLoadComponent","sprintf"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("React"),k=b("lazyLoadComponent")(b("JSResource")("QPLDebugger.react").__setRef("PerfNub.react"));c=function(c){babelHelpers.inheritsLoose(d,c);function d(d){var e;e=c.call(this,d)||this;e.update=function(a,b){b.stats[0].length!==0&&b.stats[0][0].pagelet!="first_response"&&e.props.tooltip(b.lastEndTime),e.setState({stats:b.stats})};e.introspectEventHandlers=function(){var a;e.props.toggler();e.handlers=(a=b("Event")).listen(document.body,{mouseover:e.highlight,mouseout:e.unhighlight,click:e.introspectThatElement,mousedown:a.kill,mouseup:a.kill},a.Priority.URGENT)};e.introspectThatElement=function(a){b("Event").kill(a);e.props.toggler();b("CSS").removeClass(a.target,"_1yj4");for(var c in e.handlers)e.handlers[c].remove();e.handlers={};a=b("EventHandlerUtils").introspect(a.target);a=e.makeHandlerTable(a);e.setState({handlerTable:a})};d=a.CavalryLogger;var f=e.generateResultJSX(),g=e.findProfilers(f),h=e.isProfiling(g);d=!!d&&d.getInstance().is_detailed_profiler;var i=j.jsx("div",{});e.handlers={};e.token={};e.state={profilers:g,currentlyProfiling:h,results:f,stats:null,isDetailed:d,handlerTable:i};return e}var e=d.prototype;e.render=function(){if(this.state.currentlyProfiling)return this.generateProfilingJSX();else return this.generateBaseJSX()};e.UNSAFE_componentWillMount=function(){this.token=b("Arbiter").subscribe("Performance/stats",this.update)};e.componentWillUnmount=function(){b("Arbiter").unsubscribe(this.token)};e.redirect=function(a,c,d){var e={};e[a]=c;a=new(h||(h=b("URI")))(document.URL).addQueryData(e);a.go(d)};e.redirect_policy=function(){var a=(h||(h=b("URI"))).getRequestURI();a=new h("https://our.intern.facebook.com/intern/artillery2/policies/").addQueryData("xcontroller_restraint_uri",a.toString());a.go(!0)};e.findProfilers=function(a){var c=new(h||(h=b("URI")))(document.URL),d=c.getQueryData();c=Array.from(a.keys()).filter(function(a){return d[a]!==void 0});d.artillery_sample!==void 0&&c.unshift("teak2_sample");return c};e.isProfiling=function(a){return a.length!==0};e.highlight=function(a){b("CSS").addClass(a.target,"_1yj4")};e.unhighlight=function(a){b("CSS").removeClass(a.target,"_1yj4")};e.generateProfilingJSX=function(){var a=this,b=this.state.profilers.map(function(b){return j.jsx("span",{children:a.state.results.get(b)},b)});return j.jsxs("div",{children:[j.jsx("h1",{children:" Profiling Results: "}),b]})};e.generateBaseJSX=function(){var c=this,d=a.CavalryLogger?j.jsxs("div",{children:[j.jsx("strong",{children:"Cavalry ID: "}),a.CavalryLogger.id]}):null;return j.jsxs("div",{children:[d,j.jsxs("div",{children:[j.jsxs("h1",{style:{textAlign:"center"},children:[" ","Profilers (reload this page with....)"," "]}),j.jsxs(b("List.react"),{border:"none",spacing:"none",children:[j.jsxs("li",{style:{marginBottom:".25cm"},children:[j.jsxs("h4",{style:{"float":"left",marginRight:".1cm"},children:[" ","Wirehog:  "," "]}),j.jsxs(b("List.react"),{border:"light",direction:"horizontal",children:[j.jsx("li",{children:j.jsx(b("Link.react"),{onClick:function(){return c.redirect("wirehog_sample","pageload",!1)},children:"pageload"})}),j.jsx("li",{children:j.jsx(b("Link.react"),{onClick:function(){return c.redirect("wirehog_sample","ajax",!1)},children:"ajax"})})]})]}),j.jsxs("li",{style:{marginBottom:".25cm"},children:[j.jsxs("h4",{style:{"float":"left",marginRight:".1cm"},children:[" ","Artillery (services):  "," "]}),j.jsxs(b("List.react"),{border:"light",direction:"horizontal",children:[j.jsx("li",{children:j.jsx(b("Link.react"),{onClick:function(){return c.redirect("fbtrace_sample","pageload",!0)},children:"pageload"})}),j.jsx("li",{children:j.jsx(b("Link.react"),{onClick:function(){return c.redirect("fbtrace_sample","ajax",!0)},children:"ajax"})})]})]}),j.jsxs("li",{style:{marginBottom:".25cm"},children:[j.jsxs("h4",{style:{"float":"left",marginRight:".1cm"},children:[" ","Artillery (browser):  "," "]}),j.jsxs(b("List.react"),{border:"light",direction:"horizontal",children:[j.jsx("li",{children:j.jsx(b("Link.react"),{onClick:function(){return c.redirect("artillery_sample","teak2",!0)},children:"Server Awaitables"})}),j.jsx("li",{children:j.jsx(b("Link.react"),{onClick:function(){return c.redirect("artillery_sample","pageload",!0)},children:"pageload"})}),j.jsx("li",{children:j.jsx(b("Link.react"),{onClick:function(){return c.redirect("artillery_sample","ajax",!0)},children:"ajax"})}),j.jsx("li",{children:j.jsx(b("Link.react"),{onClick:function(){return c.redirect_policy()},title:"Set up a sampling policy to specify how often a request should be traced.",children:"start collecting traces"})})]})]}),j.jsxs("li",{style:{marginBottom:".25cm"},children:[j.jsxs("h4",{style:{"float":"left",marginRight:".1cm"},children:[" ","Killabyte:  "," "]}),j.jsx(b("List.react"),{border:"light",direction:"horizontal",children:j.jsx("li",{children:j.jsx(b("Link.react"),{onClick:function(){return c.redirect("killabyte","1",!0)},children:"pageload"})})})]}),j.jsxs("li",{style:{marginBottom:".25cm"},children:[j.jsxs("h4",{style:{"float":"left",marginRight:".1cm"},children:[" ","SR Trace:  "," "]}),j.jsx(b("List.react"),{border:"light",direction:"horizontal",children:j.jsx("li",{children:j.jsx(b("Link.react"),{onClick:function(){return c.redirect("sri","1",!0)},children:"pageload"})})})]}),j.jsxs("li",{style:{marginBottom:".25cm"},children:[j.jsxs("h4",{style:{"float":"left",marginRight:".1cm"},children:[" ","Event Handler Introspector:  "," "]}),j.jsx(b("List.react"),{border:"light",direction:"horizontal",children:j.jsx("li",{children:j.jsx(b("Link.react"),{onClick:this.introspectEventHandlers,children:"select"})})})]}),j.jsxs("li",{style:{marginBottom:".25cm"},ref:"container",id:"qpl_debugger",children:[j.jsxs("h4",{style:{"float":"left",marginRight:".1cm"},children:[" ","QPL Debugger:  "," "]}),j.jsx(b("List.react"),{border:"light",direction:"horizontal",children:j.jsx(j.Suspense,{fallback:j.jsx("li",{children:"loading..."}),children:j.jsx(k,{qplDebuggerDone:this.props.qplDebuggerDone},"debugger")})})]})]})]}),this.state.handlerTable,j.jsx("hr",{style:{marginBottom:"1mm"}}),j.jsxs("div",{children:[j.jsx("h1",{style:{textAlign:"center",marginBottom:"1cm",marginTop:"1cm"},children:"Pagelet Performance"}),this.generateStatsJSX()]})]})};e.generateStatsJSX=function(){var a=this;if((i||(i=b("isEmpty")))(this.state.stats)||this.$1)return j.jsx("div",{});var c=this.generateStatsTable(this.state.stats[0]),d=this.state.stats.slice(1),e=null;d.length==0?e=j.jsx("div",{children:j.jsxs("h1",{style:{textAlign:"center",marginTop:"1cm"},children:[" ","No Prior Requests Available"," "]})}):e=d.map(function(b,c){return j.jsx("div",{children:a.generateStatsTable(b)},c)});return j.jsxs("div",{children:[c,j.jsx("hr",{style:{marginBottom:"1cm"}}),j.jsx("h2",{style:{textAlign:"center"},children:"Prior Requests"}),e]})};e.generateStatsTable=function(a){var b=this.generateStatsTableColumns(a);a=this.generateStatsTableRows(a);return j.jsxs("table",{style:{borderCollapse:"collapse",borderSpacing:"0px",marginTop:"1cm",marginBottom:"1cm"},children:[j.jsx("thead",{children:b}),j.jsx("tbody",{children:a})]})};e.generateStatsTableColumns=function(a){a=[b("sprintf")("Pagelet (for load %s)",a[0].lid),"PHP Wall","Server Done","HTML Bytes","Approx Gzip"];if(this.state.isDetailed){var c=["Phase","Arrive","CSS Done","Display","JS Done"];a=a.concat(c)}c=a.map(function(a,b){return j.jsxs("th",{style:{border:"1px solid black",padding:"2px"},children:[" ",a," "]},"column-"+b)});return j.jsx("tr",{children:c})};e.generateStatsTableRows=function(a){var c=this;a=a.map(function(a,d){var e=[a.wall_time,a.end,a.html_bytes,a.html_gzip];if(c.state.isDetailed){var f=[a.phase,a.arrive,a.css_load,a.display,a.jsdone];e=e.concat(f)}var g=document.getElementById(a.pagelet);f=j.jsx("span",{title:a.php_class,onMouseOver:function(){g&&b("CSS").addClass(g,"_285u")},onMouseOut:function(){g&&b("CSS").removeClass(g,"_285u")},children:a.pagelet});f=j.jsxs("td",{style:{border:"1px solid black",padding:"2px"},children:[f,"(",j.jsx(b("Link.react"),{href:c.$2(a.pagelet),target:"_blank",children:"dash"}),")"]},"first-cell");e=e.map(function(a,b){a=Math.round(a);isNaN(a)&&(a="N/A");return j.jsxs("td",{style:{textAlign:"right",border:"1px solid black",padding:"2px"},children:[" ",a," "]},"cell-"+b)});a=[f].concat(e);return j.jsx("tr",{children:a},"row-"+d)});return a};e.generateResultJSX=function(){var a=new Map();a.set("teak_sample",j.jsx("li",{children:j.jsxs("a",{href:"https://our.intern.facebook.com/intern/teak?tab=mine",children:[" ","teak_sample"," "]})},"teak_sample"));a.set("wirehog_sample",j.jsx("li",{children:j.jsxs("a",{href:this.props.resultLinks[0],children:[" ","wirehog_sample"," "]})},"wirehog_sample"));a.set("fbtrace_sample",j.jsx("li",{children:j.jsxs("a",{href:this.props.resultLinks[1],children:[" ","fbtrace_sample"," "]})},"fbtrace_sample"));a.set("artillery_sample",j.jsx("li",{children:j.jsxs("a",{href:this.props.resultLinks[2],children:[" ","artillery_sample"," "]})},"artillery_sample"));a.set("teak2_sample",j.jsx("li",{children:j.jsxs("a",{href:this.props.resultLinks[3],children:[" ","Server Awaitables View"," "]})},"teak2_sample"));this.props.links.killabyteLink=="N/A"?a.set("killabyte",j.jsx("div",{children:"Killabyte (wait for results)"},"Killabyte")):a.set("killabyte",j.jsx("li",{children:j.jsx("a",{href:this.props.links.killabyteLink,children:"killabyte"})},"killabyte"));var b=this.props.links.sriLink=="N/A"?j.jsx("li",{children:"SRInspector (wait for results)"},"sri"):j.jsx("li",{children:j.jsx("a",{href:this.props.links.sriLink,children:"sri"})},"sri");a.set("sri",j.jsxs("ul",{children:[j.jsx("li",{children:j.jsx("a",{href:this.props.resultLinks[3],children:"Trajectory Static Resources"})},"trajectory"),b]}));return a};e.makeHandlerTable=function(a){var b=["Tagname","Classes","ID","Handlers"].map(function(a){return j.jsxs("th",{style:{whitespace:"no-wrap",border:"1px solid black",padding:"2px"},children:[" ",a," "]})});b=j.jsx("tr",{children:b});a=a.map(function(a,b){b=a.elementRef;var c=b.nodeName,d=b.className?b.className.trim():"",e=j.jsxs("div",{children:[" ",d," "]});if(d.indexOf(" ")>-1){d=d.split(" ");var f=[];d.forEach(function(a){f.push(a),f.push(j.jsx("br",{}))});e=j.jsxs("div",{children:[" ",f," "]})}d=b.id||"";var g=[];Object.keys(a.handlers).forEach(function(a){g.push(a),g.push(j.jsx("br",{}))});b=j.jsxs("div",{children:[" ",g," "]});a=[c,e,d,b].map(function(a){return j.jsx("td",{style:{textAlign:"right",border:"1px solid black",padding:"2px"},children:a})});return j.jsx("tr",{children:a})});return j.jsxs("div",{children:[j.jsx("hr",{style:{marginTop:"1cm",marginBottom:"1cm"}}),j.jsxs("h1",{style:{textAlign:"center",marginBottom:"1cm"},children:[" ","Event Handlers"," "]}),j.jsxs("table",{style:{borderCollapse:"collapse",borderSpacing:"0px",marginTop:"1cm",marginBottom:"1cm"},children:[j.jsx("thead",{children:b}),j.jsx("tbody",{children:a})]})]})};e.$3=function(a){var c=new(h||(h=b("URI")))("https://our.intern.facebook.com/intern/tracery");c.setQueryData({loader:"ArtilleryRemote",artillery_remote_trace_id:a});return c};e.$2=function(a){a=a.replace(/^u_jsonp(?:_[a-z0-9]+){2}/,"{u_jsonp}");a=a.replace(/^u(?:_[a-z0-9]+){2}/,"{u}");a=a.replace(/^adp_(.*)__inst.*/,"$1");a=a.replace(/\?.*/,"");a=a.replace(/_[0-9a-f]{23}/,"_{N}");a=a.replace(/\d{3,}/,"{N}");var c=new(h||(h=b("URI")))("https://our.intern.facebook.com/intern/unidash/dashboard/web_speed_monitoring/pageletinfo");c.setQueryData({events:JSON.stringify({133303837356156:{select:{data:a,publisher_id:"133303837356156",static_data:{column:"pagelet",type:"eq"}}}})});return c};return d}(j.Component);e.exports=c},null);
__d("PerfNubController",["csx","Arbiter","DOM","NavigationMetrics","NubController","Parent","React","ReactDOM","SimpleXUIDialog","TooltipData","URI","requestAnimationFrameAcrossTransitions","setTimeoutAcrossTransitions","sprintf"],function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){var g;g=a.call(this)||this;g.toggleComponent=function(){g.$PerfNubController7?(g.isToggling=!0,g.show(),g.$PerfNubController7=!1,g.isToggling=!1):(g.$PerfNubController8=!0,g.hide(),g.$PerfNubController7=!0,g.$PerfNubController8=!1)};g.updateTooltip=function(a){b("TooltipData").set(g.button,b("sprintf")("Most recent pagelet end time: %s\xa0ms",a)),g.buttonContentChanged()};g.$PerfNubController10=function(){g.$PerfNubController8==!1&&(g.$PerfNubController6=!1,b("ReactDOM").unmountComponentAtNode(g.$PerfNubController1))};g.$PerfNubController11=function(){if(g.$PerfNubController8==!1){g.$PerfNubController6=!0;var a=g.$PerfNubController2;b("ReactDOM").render(i.jsx(a,{resultLinks:g.$PerfNubController3,links:g.$PerfNubController5,toggler:g.toggleComponent,tooltip:g.updateTooltip,traceId:g.$PerfNubController4,qplDebuggerDone:g.$PerfNubController9}),g.$PerfNubController1)}};g.$PerfNubController1=c;g.$PerfNubController2=d;g.$PerfNubController3=e;g.$PerfNubController4="";g.$PerfNubController5={killabyteLink:"N/A",sriLink:"N/A"};g.$PerfNubController6=!1;g.$PerfNubController7=!1;g.$PerfNubController8=!1;g.$PerfNubController9=!1;d=b("Parent").bySelector(c,"._50-v");a.prototype.init.call(babelHelpers.assertThisInitialized(g),d);b("DOM").empty(c);g.subscribe("hide",g.$PerfNubController10);g.subscribe("show",g.$PerfNubController11);b("Arbiter").subscribe("killabyte_banzai_flush",function(a,b){return g.killabyteDone(b)});b("Arbiter").subscribe("cavalry_log_sent",function(a,b){return g.sriDone(b)});b("Arbiter").subscribe("qpl_debugger_finished",function(){g.$PerfNubController9=!0,b("requestAnimationFrameAcrossTransitions")(function(){b("setTimeoutAcrossTransitions")(function(){g.qplDebuggerDone()},10)})});b("Arbiter").subscribe("qpl_debugger_reset",function(){g.$PerfNubController9=!1,g.qplDebuggerDone()});g.button=b("DOM").find(d,"a.fbNubButton");var h=function(a){if(a.pageType!=="normal"&&a.pageType!=="quickling")return;var c=a.start,d=Math.floor(a.tti-c)/1e3;a=Math.floor(a.extras.all_pagelets_displayed-c);a/=1e3;c=b("sprintf")("TTI:%ss DD:%ss",d.toFixed(1),a.toFixed(1));b("DOM").setContent(g.button,c);g.buttonContentChanged()};e=f==null?void 0:f.navDoneEvent;e?b("Arbiter").subscribe(e,function(a,b){return h(b)}):b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.NAVIGATION_DONE,function(a,b){return h(b)});return g}var d=c.prototype;d.killabyteDone=function(a){a=(h||(h=b("URI"))).getRequestURI().setSubdomain("our").setPath("/intern/haste/killabyte/sample/").setQueryData({id:a});a=a.toString();this.$PerfNubController5.killabyteLink=a;if(this.$PerfNubController6==!0){a=this.$PerfNubController2;b("ReactDOM").unmountComponentAtNode(this.$PerfNubController1);b("ReactDOM").render(i.jsx(a,{resultLinks:this.$PerfNubController3,links:this.$PerfNubController5,toggler:this.toggleComponent,tooltip:this.updateTooltip,traceId:this.$PerfNubController4,qplDebuggerDone:this.$PerfNubController9}),this.$PerfNubController1)}};d.sriDone=function(a){a=(h||(h=b("URI"))).getRequestURI().setDomain("our.intern.facebook.com").setPath("/intern/sr/inspector/"+a.lid).setQueryData({});a=a.toString();this.$PerfNubController5.sriLink=a;if(this.$PerfNubController6==!0){a=this.$PerfNubController2;b("ReactDOM").unmountComponentAtNode(this.$PerfNubController1);b("ReactDOM").render(i.jsx(a,{resultLinks:this.$PerfNubController3,links:this.$PerfNubController5,toggler:this.toggleComponent,tooltip:this.updateTooltip,traceId:this.$PerfNubController4,qplDebuggerDone:this.$PerfNubController9}),this.$PerfNubController1)}};d.qplDebuggerDone=function(){this.$PerfNubController11()};return c}(b("NubController"));e.exports=a},null);
__d("XPartnersTailorSwitchController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/tailor/switch/",{})},null);
__d("TailorNubHelper",["Promise","AsyncRequest","CSS","DOM","Event","FBLogger","PageTransitions","SimpleXUIDialog","URI","XPartnersTailorSwitchController","forEachObject","ge","gkx","promiseDone"],function(a,b,c,d,e,f){"use strict";var g,h=[],i={},j={},k=!0,l=!1,m=!1;function n(){var a=window.location.hostname,b=a.match(/\.[^.]+\.sb\.facebook\.com/);b=b!=null?b[0]:null;a=a.match(/\.[^.]+\.od\.facebook\.com/);a=a!=null?a[0]:null;a=(b=(b=b)!=null?b:a)!=null?b:".internmc.facebook.com";return"our"+a}var o={registerCycleStages:function(a,c,d,e,f){f===void 0&&(f=!0),i[c]=String(e),b("forEachObject")(d,function(d,e){b("Event").listen(d,"click",function(){o.switchStage(a,c,String(e),f)})}),o.init()},init:function(){k||(o.showElementWithIDIfExist("fbTailorNub"),Object.keys(j).forEach(o.showCycle)),m=!0},markCycleAsInUse:function(a){if(j[a])return;k&&(m&&o.showElementWithIDIfExist("fbTailorNub"),k=!1);j[a]=!0;m&&o.showCycle(a)},showCycle:function(a){o.showElementWithIDIfExist("tailorNubIcon-"+a),o.showElementWithIDIfExist("tailorNubMenu-"+a)},showElementWithIDIfExist:function(a){a=b("ge")(a);a&&(a.style.display="inline-block")},switchStage:function(a,c,d,e){b("promiseDone")(b("Promise").all(h.map(function(b){return b(a,c,d)})).then(function(a){a=a.reverse().find(function(a){return a!==null});a==null&&(a=b("PageTransitions").getMostRecentURI());typeof a==="string"&&(a=new(g||(g=b("URI")))(a));a.getDomain()||a.setDomain(window.location.hostname);a.getProtocol()||a.setProtocol("https");var f=new(g||(g=b("URI")))("/intern/tailor/switch").setDomain(n()).setProtocol("https");b("gkx")("1588392")&&(f=b("XPartnersTailorSwitchController").getURIBuilder().getURI());b("FBLogger")("Tailor").debug("switch URI: %s",f.toString());var h=a;b("FBLogger")("Tailor").debug("forward URI: %s",h.toString());b("FBLogger")("Tailor").info("switch attempt - cycle: %s - stage: %s",c,d);new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(f).setMethod("POST").setData({cycle:c,stage:d}).setHandler(function(a){e?(h.go(!0),b("FBLogger")("Tailor").info("switch success - cycle: %s - stage: %s",c,d)):b("FBLogger")("Tailor").warn("redirect disabled - cycle: %s - stage: %s",c,d)}).setErrorHandler(function(a){b("FBLogger")("Tailor").catching(a.toError()).warn("switch failed - cycle: %s - stage: %s",c,d),b("SimpleXUIDialog").show("It was not possible to change stage, be sure to have access to intern.","Error")}).send()}))},registerHideNubsButtons:function(a,c){b("Event").listen(a,"click",o.toggleOtherNubs),b("Event").listen(c,"click",o.hideAllNubs)},toggleOtherNubs:function(){var a=b("ge")("pagelet_dock");a=b("DOM").scry(a,".fbNub");a.forEach(function(a){a.id!=="fbTailorNub"&&(l?b("CSS").show(a):b("CSS").hide(a))});l=!l},hideAllNubs:function(){var a=b("ge")("pagelet_dock");a&&b("CSS").hide(a)},getCurrentStageID:function(a){return i[a]},registerSwitchCallback:function(a){h.push(a)}};e.exports=o},null);
__d("TrafficNub",["Event","Input","XUIError","requestAnimationFrame"],function(a,b,c,d,e,f){a={bindDialog:function(a,c){b("Event").listen(a,"click",c.show.bind(c))},errorStateUrlgenLocHint:function(a){b("Event").listen(a,"keydown",function(c){b("requestAnimationFrame")(function(){var c=b("Input").getValue(a);c.length==0||c.match("^[a-z]{3}([0-9]+-[0-9]+)$")||c.match("^(fna:)?f[a-z]{3}[0-9]+-[0-9]+$")?b("XUIError").clear(a):c.match("^[a-z]{3}$")?b("XUIError").set({target:a,message:"Use specific cluster. eg. "+c+"1-1"}):b("XUIError").set({target:a,message:"Invalid location hint format."})})})}};e.exports=a},null);